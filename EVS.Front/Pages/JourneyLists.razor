@page "/journeylists"
@using EVS.Core.Models
@using EVS.Front.Services
@using MudBlazor

@inject IRideService rideService

@inherits LayoutComponentBase

<MudStack Style="margin-top:2em">

	@foreach (Ride ride in rides)
	{
		<MudPaper Class="pa-3 mud-width-full" Style="max-width:50%">
			<MudGrid>
				<MudItem><MudText Typo="Typo.body2">@ride.Departure.ToString("dddd dd MMMM yyyy")</MudText></MudItem>


			</MudGrid>
			<MudGrid Style="align-items:center;">
				<MudItem> <MudText Typo="Typo.h6">@ride.StartCity</MudText></MudItem>
				<MudItem><MudIcon Icon="@Icons.Material.Filled.HorizontalRule" Style="font-size: 4rem;" Color="Color.Primary" /></MudItem>
				<MudItem><MudText Typo="Typo.body2" Style="margin-left:1em">@ride.Distance km</MudText></MudItem>
				<MudItem> <MudIcon Icon="@Icons.Material.Filled.ArrowRightAlt" Style="font-size: 4rem;" Color="Color.Primary" /></MudItem>
				<MudItem><MudText Typo="Typo.h6">@ride.EndCity</MudText></MudItem>
				<MudItem><MudText Typo="Typo.h4" Color="Color.Secondary" Style="margin-left:1em">@ride.Price €</MudText></MudItem>
				<MudSpacer />
				<MudItem>
					<MudText Typo="Typo.h5" Color="Color.Secondary" Style="margin-left:1em">@ride.Seats<MudIcon Icon="@Icons.Material.Filled.AirlineSeatReclineNormal" Size="Size.Large" Color="Color.Primary" /></MudText>
				</MudItem>
			</MudGrid>

			<MudGrid Style="align-items:center;">
				<MudItem><MudAvatar Size="Size.Medium" Image="@ride.User.Photo"></MudAvatar></MudItem>
				<MudItem><MudText Typo="Typo.body2" Style="margin-left:1em">@ride.User.Pseudo</MudText></MudItem>
				<MudItem>
					<MudAvatar Size="Size.Small" Image="@(ride.User.AcceptSmoker ? "Images/Icone/Smoke.png" : "Images/Icone/SmokeNo.png")"></MudAvatar>

					<MudAvatar Size="Size.Small" Image="@(ride.User.AcceptFood ? "Images/Icone/Food.png" : "Images/Icone/FoodNo.png")"></MudAvatar>

					<MudAvatar Size="Size.Small" Image="@(ride.User.AcceptFood ? "Images/Icone/Music.png" : "Images/Icone/MusicNo.png")"></MudAvatar>

					<MudAvatar Size="Size.Small" Image="@(ride.User.AcceptFood ? "Images/Icone/Pet.png" : "Images/Icone/PetNo.png")"></MudAvatar>

					<MudAvatar Size="Size.Small" Image="@(ride.User.AcceptFood ? "Images/Icone/Talk.png" : "Images/Icone/TalkNo.png")"></MudAvatar>
				</MudItem>
				<MudSpacer />
				<MudItem>
					<MudButton Variant="Variant.Filled" Color="Color.Primary" Style="margin:1em">Reserver</MudButton>
				</MudItem>
			</MudGrid>
		</MudPaper>
	}
</MudStack>




@code {
	DateTime? date = DateTime.Today;

	List<Ride> rides = new List<Ride>();

	protected override async Task OnInitializedAsync()
	{
		rides = await rideService.GetAll();
	}

}
